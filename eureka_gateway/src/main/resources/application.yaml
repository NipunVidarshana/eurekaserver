server:
  port: 8090 # The port your API Gateway will run on. Choose a free port.

eureka:
  client:
    serviceUrl:
      defaultZone: http://192.168.231.62:8761/eureka/ # Your Eureka server IP and port
    fetch-registry: true
    register-with-eureka: true # Register the gateway with Eureka

management:
  endpoints:
    web:
      exposure:
        include: "prometheus"
  endpoint:
    prometheus:
      enabled: true
  metrics:
    export:
      prometheus:
        enabled: true

spring:
  application:
    name: api-gateway # Name of your gateway service in Eureka
  cloud:
    gateway:
      discovery:
        locator:
          enabled: true # Enable discovery locator for automatic routing based on service names
          lower-case-service-id: true # Optional: Convert service IDs to lowercase
      routes:
        - id: basicairfeild-cgo-service
          uri: lb://CGO-BASICAIRFIELD # lb:// for load balancing through Eureka service ID
          predicates:
            - Path=/cgobasicairfield/** # All requests to /airfield/** will be routed to AIRFEILDANDRUNAWAY
          filters:
            - StripPrefix=1 # Removes the /airfield prefix before forwarding to the service

        - id: sincode-cgo-service
          uri: lb://CGO-SINCODE # lb:// for load balancing through Eureka service ID
          predicates:
            - Path=/cgosincode/** # All requests to /cgrsl/** will be routed to CGRSL
          filters:
            - StripPrefix=1 # Removes the /cgrsl prefix before forwarding to the service
#            -
        - id: constructioncomplete-cgo-service
          uri: lb://CGO-CONSTRUCTIONCOMPLETE # lb:// for load balancing through Eureka service ID
          predicates:
            - Path=/cgoconstructioncomplete/** # All requests to /cgrsl/** will be routed to CGRSL
          filters:
            - StripPrefix=1 # Removes the /cgrsl prefix before forwarding to the service
#
        - id: constructionnotcomplete-cgo-service
          uri: lb://CGO-CONSTRUCTIONNOTCOMPLETE # lb:// for load balancing through Eureka service ID
          predicates:
            - Path=/cgoconstructionnotcomplete/** # All requests to /cgrsl/** will be routed to CGRSL
          filters:
            - StripPrefix=1 # Removes the /cgrsl prefix before forwarding to the service
#
        - id: areacalculation-cgo-service
          uri: lb://CGO-AREACALCULATION # lb:// for load balancing through Eureka service ID
          predicates:
            - Path=/cgoareacalculation/** # All requests to /cgrsl/** will be routed to CGRSL
          filters:
            - StripPrefix=1 # Removes the /cgrsl prefix before forwarding to the service
#
        - id: dashboard-cgo-service
          uri: lb://CGO-ADMINDASHBOARD # lb:// for load balancing through Eureka service ID
          predicates:
            - Path=/cgoadmindashboard/** # All requests to /cgrsl/** will be routed to CGRSL
          filters:
            - StripPrefix=1 # Removes the /cgrsl prefix before forwarding to the service